<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/default_layout}">

<head>
    <meta charset="UTF-8">
</head>
<!-- 메인 페이지 고유 CSS 추가-->
<th:block layout:fragment="css">
    <link rel="stylesheet" th:href="@{/css/page/selectWrapper.css}">
</th:block>
<!-- 메인 페이지 고유 스크립트 추가-->
<th:block layout:fragment="script">
    <script th:src="@{/js/page/selectWrapper.js}"></script>
</th:block>
<div layout:fragment="content" class="container">
    <div class="main">
        <!--        주문상품 표시-->

        <div>
            <b style="margin-right: 200px;">주문 상품</b>
            <span style="margin-right: 300px">총 <span th:text="${totalOrderCount}"></span> 개</span>
            <!--            보기 버튼을 누르면 주문 상품 보여지고, 다시 누르면 안 보여짐-->
            <button onclick="toggleTable()">보기</button>
        </div>
        <div>
            <table class="order-table" style="display: block">
                <tbody>
                <tr th:each="bookResponse : ${beforeOrderBookResponseList}">
                    <td class="order-table-td"><img
                            th:src="${bookResponse.imageUrl}"
                            alt="Book Image" width="80px" height="120px"></td>
                    <td class="order-table-td" th:text="${bookResponse.title}"></td>
                    <td class="order-table-td" th:text="${bookResponse.quantity}">개</td>
                    <td class="order-table-td" th:text="${bookResponse.cost}">원</td>
                </tr>
                </tbody>
            </table>
        </div>
        <!--        포장지 선택-->
        <div style="text-align: center">
            <hr>
            <b>포장지 선택</b>
        </div>


        <div class="wrappers" style="margin: 10px; white-space: nowrap;"
             th:each="bookResponse : ${beforeOrderBookResponseList}">
            <b th:text="${bookResponse.title}"></b>
            <span style="margin-right: 30%">수량</span><br>
            <div class="select" style="margin: 10px; display: inline-block">
                <input type="text" class="number" name="number" value="1" readonly
                       style="width: 20px; text-align: center">
                <div th:each="wrapper : ${wrapperList}">
                    <input type="radio" th:id="${wrapper.id}" name="wrapper" th:value="${wrapper.name}">
                    <label th:for="${wrapper.id}" th:text="${wrapper.name}"></label>
                </div>

                <input type="number" id="quantity" name="quantity" min="1" style=" width: 40px">
                <!--                +,- 버튼으로 포장지 수량 조절-->
                <button onclick="addWrapper()">+</button>
                <button onclick="removeWrapper()">-</button>
            </div>
        </div>

        <div id="wrapperData" th:attr="data-wrapperList=${wrapperList}" style="display: none;"></div>
        <div id="bookresponseList" th:attr="data-bookResponseList=${beforeOrderBookResponseList}"
             style="display: none;"></div>
        <div id="totalOrderCount" th:attr="data-totalOrderCount=${totalOrderCount}"
             style="display: none;"></div>

    </div>
    <div class="side">
        <div style="text-align: center">
            <br><br>
            <span>포장 책 권수</span><span style="margin-left: 120px" class="wrapBookCount"></span><br><br>
            <span>선택 포장 총액</span><span style="margin-left: 110px" class="totalWrapCost"></span><br><br>
            <!--            주문서 작성 단계로 넘어감-->
            <button type="button" class="pink-button" onclick="redirectToURL('/ordersheet')">다음</button>
            <br><br><br>
        </div>
        <!--    포장지 리스트 보여줌-->
        <div class="wrapperList">
            <div th:each="wrapper : ${wrapperList}">
                <img class="wrapperImg"
                     src="https://previews.123rf.com/images/viaire/viaire1504/viaire150400025/39096768-%ED%8F%AC%EC%9E%A5%EC%A7%80%EC%97%90-%EB%B9%A8%EA%B0%84%EC%83%89-%ED%95%98%ED%8A%B8-%ED%8C%A8%ED%84%B4.jpg"
                     th:alt="'포장지' + ${wrapper.id}" width="90px" height="90px">
            </div>
            <br>
            <div th:each="wrapper : ${wrapperList}">
                <span class="wrapperName" th:text="${wrapper.name}"></span>
            </div>


        </div>
    </div>
</div>
</html>
